# day 1
Started building an IMDB scraper and making a prototype site. Important decision was to limit the data to the top 250 IMDB movies, since those are the most relevant and it also takes a lot of time to scrape data. At last limiting to top 250 improves the capability to compare data point and therefore improves the storytelling

# day 2
Finished scraper for the most important part and parse it to a json file. Most important change was to scrape all movies instead of just one to test whether it works. Hence an extra script was needed that provides me with the movie id's. Those are used to iterate over all movies to scrape them when iterating. 
For now the json file contains: Title, Year, Score, Genres and related movies. Later on extra data could be added. But for now this will be a good start.
Started linking the search box to the data
Imported decision was to change one graph to a scatterplot, hence it will provide an overview where the selected data can ben compared with the other top 250 movies. So instead of two graphs providing info about the selected movies, one graph will be changed and provide informatie about the selected movie compared to the other movies. This therefore will be a scatter plot.

# day 3
Decoded movie titles to titles without accents. This took a lot of effort, but a python package made a lot of help. Also a major problem was a non-breaking space unicode character at the end. This is now fixed by first encoding all the unicde characters to the most similar ascii (without accents). After that the nbsp could easily be deleted.
Improved the connection between the search box and the data. Now information was provided that was relevant for the movie that was filled in. For instance the year of the movie.

# day 4
Added a scatter plot with year and score of the movie. Hence some data changes had to be made, so some new data structures were initialized in javascript. For now I'll keep my json format the same, since this provides a good overview for now. It is an object of movie titles, that contains an object with al the relevant information for each movie.
Also interactivity is added, it provides the user with the title, year and score.
After that a link was build between the search bar and the scatter plot. The user is able to search for a movie. When the search icon is clicked the dot corresponding to the movie wil make a transition to another color and a bigger dot. For now the color is red, but this is likely to be changed in the future.
At last autocomplete/suggestions for the search bar are added. 

# day 5
Added a node graph. At first a graph was added with just a data example to see how the graph works when chanegs in the data are made. After that the task was to implement our data to the graph. The idea for now was to make a graph with in the middle the current (chosen) movie that is linked to the other related movies. The color represents the total links of the linked movies with the other linked movies. The color scale has to be improved. It was a big job to retrieve the data, since you have to find the data of related movies form the current movie. After that you have to check of these related movies have connections to the other related movies, it took a lot of time to program that. It is now managed by another python script that adds the correct dictionary to the movies dictionary, such that that data dictionary can be used for the node graph. The first idea was to check if the related movies of the current movies are linked to each other, that also took a lot of time. But when the answers were known almost every movie was linked. I was afraid that those links would make the graph a mess. So that is skipped for now, but might be implemented in the future. I will now stuck to this version and maybe improve it in the future. After that interactivity is added to see information about the related movies. Also when a dot is clicked the scatter and the node graph update to that movie.
Scatter is updated on click. If the user clicks on a dot information about the corresponding movie will be shown, so the dot color in the scatter plot will change and also the node graph updated to that movie. So there is interactivity between the two graphs. Also the ald dot on the scatter removes. And some other minor issues were fixed. At last I did some research to update the node graph, but this was hard since it makes use of force. Update functions are hard to use with this function. For now the parts that draw the nodes are initialized again. All the svg elements etc remain the same

# day 6

Today the barchart was added. It has an update function. All graphs are linked. Click on scatter or node graph updates all three graphs. Typing a movie in the search box does the same. For the barchart some cleaning had to be done, that took more work than expected. It was hard to find the problem, but it's fixed for now in javascript. Maybe change it in the future in the python file that provides the json file, such that no cleaning is needed anymore. Also the interactivity is improved, at first interactivity elements for all graphs were elements of the div/svg of the first graph. This is changed now, resulting in a huge change of the tooltip position. The problem with that position is also fixed. At last a problem with the nodegraph was spotted. It doesn't update the colors from the graph, this is probably caused by the fact that the dots aren't selected. It took some time to try to debug that, but it isn't solved yet. This problem has to be solved later.

# day 7
Relationshipgraph is fixed on update. The nodes are now correctly updated, also the hover over is working as it should work. Javascript file cleaned by making sure that in every line correct indentation is used. There is still a problem with for example 'Logan'in the node graph. I have found out what the problem is. For example logan has related movies that aren't in the top 250 movies, so javascript is not possible to retrieve their information from the json file. I have made a start to parse the data that is used for the nodegraph correctly, but it doesn't behave as expected for now. The graph is messed up, but I will fix that as mentioned by modifying the scrape script and parse the data to the json correctly. Also the nodegraph is improved since some lines were drawn multiple times, this was also a mistake in the script that provides the data. This is fixed now.

# day 8
Problem with parsing of data is fixed. In the relationship graph only dots and lines are drawn when the related movies are also in the top 250 movies, if not they are not show in the node graph. This was fixed by updating the python file. After that checkboxes were added to select on genre for the scatter. That was most of the work for today. At first I only made an object containing all movie genres. I used this object to create the checkboxes. After that I linked the checkboxes to my javascript. Then I added arrays containing the movie ID's to the corresponding genre in the initializeed dictionary. So every genre contained an array with all the ID's of the movie that have that genre. Then I made some code to update the scatter. At first my code was written in a way that all dots from the unchecked boxes were deleted. The problem was that all dots were deleted when one box was checked, since most of the titles contain multiple genres. So one genre was checked, but the other two were still unchecked. That resulted in deleting the dot. So I changed the code to showing all the dots from the checked boxes and now it works. After that a (unselect) all checkbox was added. And at the end of the day I added a collapse button to improve the look and feel of the website, such that all 22 checkboxes aren't permanently showed. I also changed the color of the search button to the same color as the collapse button.

# day 9
Updated tabs at the top of the site to make different sections for data visualisation, description of the data visualisation and other info. This has yet to be filled in. After that some graphs were updated with minor improvements. Also the colors of te nodegraph were updated, such that the color scale changed from light to dark. In addition to that the number of links to the other related movies is also added to the tooltip. Hence better comparisons between the nodes can be made. At last the better code hub is changed such that in doesn't analyze the scripts of the libraries. Problem is that the text of the tabs that aren't active si shown at the bottom of the page. Another problem is that when a text box from the relationship graph is to dark, text is barely visible. Those issues have to be resolved.

# day 10
Updated double click on data points. When node from node graph or dot from scatter is doubleclicked, the user is redirect to the imdb site of the corresponding movie. This pops up in a new window/tab. It took some work, since a single and double click event is handled on the same object. So I had to initialize a timer and let the single click event run with a delay by making use of the timer. Otherwise there was no opportunity for the doube click event to be detected. With the delay in the single click event, this problem is solved. I also looked in some css bootstrap themes, but I'm still doubting if I should make use of it. Since my page is realy basic but descriptive and functional. Adding a theme could distract you from the real information. But on the other hand, it could be a visual improvement and therefore more attractive to use the visualisation tool for the user.

# day 11
Did investigation on website improvements. Hence a better story can be told, instead of just presenting visualisations and an xplanation on another tab. Now the attention of the user is at first attracted by a big picture of the movies covers of the top 250 movies. When the user scrolls down my problem will shortly be explained. After that a short guide how to use the data tool and what data can be extracted by reading the visualisations is provided. Then the visualisations will be shown and at the end some other information. Today I made some different test sites, as commited to GIT. These are mady by templates from w3schools.

# day 12
Today the visualisations of the website are improved, by making use of a w3 css template. It took a whole day to change it. Nice pictures and styling are added, also multiple minor improvements as icons etc. Most important, the visualisations are added into the website, a description is added. This description includes describing the problem and describing how to use the visualisations. This took a lot of work, since you really have to think about how you want your user to interpret your story. After implementing some problems occured. For example tooltips were shown at the bottom of the screen. So after implementing, it also took some time to improve these kind of issues that occured. At the end the HTML code was cleaned/improved. It is more readable now. Also changed the grid system a bit. Scatter plot is bigger now, whilst thwo movie-related graphs are both smaller and on the right hand side. Due to these changes all graphs are now visible at one, without having t scroll down.

# day 13
Updated all information on the site. The user is now provided with the reason why I made this visualisation and the problem of IMDB that I tried to solve. The user is now also able to find information about the process of retrieving/scraping the data and is able to see the data file. Other information is also provided, such as the templates, libraries and scripts. After that I improved the visualisations. All the tooltips are now place correctly, the text colors etc. are also changed to improve readability. Also axis labels and titles are added. Titles do update on movie change. There was another issue that when all checkboxes were unchecked except of the (un)select all, still some movies were shown. After debugging, found the problem to that. That took a while. It is resolved now. After that I did some minor visual changes. Also made the drop down with suggestion from the searchbar scrollable. After that there was an issue, caused by the css file. Css is now linked instead of just having the style code in your html. But the css file was in a different folder, hence the background images weren't loaded on github pages. While running on localhost there was no issue, which surprised me. But css is updated and the images are now included on github pages.
Started cleaning python and javascript code, resulted in one extra BCH point. It mainly focussed on adding functions to improve readability and reduce duplicate code.

# day 14
Updated that dot on scatter gets a pink border on hover over the movie in the node graph. In that way you are able to compare the related movie to the other top 250. Added function that wraps text when text is too long, minor improvements have to be made on this. It took a lot of work to make this work, especially in the update function. Since the call function was not working in the update function. Fixed bug when first hover over related movie and then click that te tooltip kept showing. This was caused by the fact that d3 didn't get a mouseout event, since there was only mouseover and click. This problem is resolved. Changed format of x labels from the scatter, since years were show with a comma as thousand seperator. This is also resolved.

[![BCH compliance](https://bettercodehub.com/edge/badge/nathanbijleveld/IMDB?branch=master)](https://bettercodehub.com/)
